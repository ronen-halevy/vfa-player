<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1" />
   <!-- favicon -->
   <link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png">
   <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
   <link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
   <link rel="manifest" href="./favicon/site.webmanifest">
   <!-- title -->
   <title>VfbfStreamer</title>

   <link
   href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
   rel="stylesheet"
   integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
   crossorigin="anonymous"
   />
</head>
<body style="font-size: 14px">
   <div class="container">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" 
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" 
      crossorigin="anonymous"></script>
      <h2 > VfbfStreamer Example App</h2>
      <h4 ></h4>
      <h4 > By: Ronen Halevy</h4>
      <br>

      <h3>Part 1: Description</h3>
      <br>
      <b>Introduction</b>
      <div class="form-control border-success">

      <p> <a href=https://github.com/ronen-halevy/vfbf-streamer>VfbfStreamer</a> is a video streaming utility for developers of frame-by-frame video processing applications.<br>
          This example application aims to illustrate
          the integration of VfbfStreamer with video and image processing applications. 
            <br>
            It provides a simple plain html, javascript (+bootstrap) example implementation, which demonstrates various features, various common input data scenarios, and integrations with processing algorithms, 
            such as OpenCv.js,  as detailed below<br>
            Code is free to use, with no license or terms.<br>
            Credits will still e appreciated.
            .
         </p>
      </div>
      
      
      1. <b >Input Data</b>
      <div class="form-control border-success">
         <p>
            The demo presents various options for input data:
            
            <li>video url: VfbfStreamer's most straight forward input for.</li>
            <br>
            <li>image url:  VfbfStreamer aupports still images input as well, as explained later on.</li>
            <br>
            <li>image and videos from local storage files: The demo generates urls for those, before calling the streamer method.</li>
         </p>
      </div>
      2. <b class="text-bg-dar">Frame by Frame Processing algorithms</b>
      <div class="form-control border-success">
         <p >
            The demo illustrates integration with OpenCv.js image processing tools and algorithms:
            
            <li>bw: convert to b&w</li>
            <br>
            <li>simple thresholding: set a static threshold</li>
            <br>
            <li>canny edge filter: set  canny filter algorithm</li>
         </p>
      </div>
      3. <b class="">Support of still Images</b>
      <div class="form-control border-success">
      
         <p >In addition to video straming, the streamer supports forwarding of still images too.<br>
            Motivation for supporting images by streamer
            was to supply an integrative contentionless module, for apps which process both images and videos on the same canvas
         </p>
      </div>
      
      <!-- <div class="h4 pb-2 mb-4 text-danger border-bottom border-danger"> -->
         <br>
         
         <h3>Part 2: VfbfStreamer Demo App</h3>
         
         <!-- </div> -->
         
         
         Follow the execution steps:
         <br><br>
         <b><u>UI Panel</u></b>
      </br> </br>
      1. <b>Source selection by radio buttons</b>
      <div class="form-control border-success">
         <!-- Select input source by radio buttons -->
         <div class="col">
            <span class="form-check col">
               <input class="form-check-input" type="radio" name="exampleRadios" id="videoUrl" value="video" checked/>
               <label class="form-check-label text-bg-primar" for="exampleRadios1">
                  by video url
               </label>
            </span>
            <span class="form-check col">
               <input class="form-check-input" type="radio" name="exampleRadios" id="imageUrl" value="image"/>
               <label class="form-check-label text-bg-primar" for="exampleRadios2">
                  by image url
               </label>
            </span>
            <span class="form-check col">
               <input class="form-check-input" type="radio" name="exampleRadios" id="localFile" value="image"/>
               <label class="form-check-label text-bg-primar" for="exampleRadios2">
                  by localFile
               </label>
            </span>
         </div>
         <!-- element for script's source url display-->
         
         
         <input
         id='inputFile'
         type='file'
         accept='video/*, image/*'
         />
         
         <select id="videoSelect'"></select>
      </br>
      <div id="selectedUrl"></div>
      
   </div>
   2.<b>Selection of processing algorithm.</b>
   <div class="form-control border-success">
      
      <!-- Select open-cv algorithm  by radio buttons -->
      <div class=col>
         <span class="form-check col">
            <input class="form-check-input" type="radio" name="cvProcess" id="original" value="original" checked/>
            <label class="form-check-label text-bg-primar" for="exampleRadios1">
               original
            </label>
         </span>
         <span class="form-check col">
            <input class="form-check-input" type="radio" name="cvProcess" id="bw" value="bw" />
            <label class="form-check-label text-bg-primar" for="exampleRadios1">
               bw
            </label>
         </span>
         <span class="form-check col">
            <input class="form-check-input" type="radio" name="cvProcess" id="threshold" value="threshold"/>
            <label class="form-check-label text-bg-primar" for="exampleRadios2">
               simple thresholding
            </label>
         </span>
         <span class="form-check col">
            <input class="form-check-input" type="radio" name="cvProcess" id="canny" value="canny"/>
            <label class="form-check-label text-bg-primar" for="exampleRadios2">
               canny edge filter
            </label>
         </span>
      </div>
   </div>
   <!-- Select play/stop button  -->
   <div class="row">
      <div class="col">
         
         3.<b>Play</b>
         
      </br>    
      <div class="form-control border-success">
         
         <div>
            Click either <b>Play</b> button or Touch<b>Canvas</b> to play or stop.
         </br></br>
      </div>
      
      <div class="col">
         <button id='playUrl'></button>
      </div>
   </div>
   
   <!-- Range input -->
</div>
<input
type='range'
min='0'
step='0.1'
value="0"
id='customRange3'/>
<!-- Canvas. onclick callback added by script -->
<span class="row">
   <span class="col-8">
      <p  style="background-color:powderblue;">Touch<b>Canvas</b> to Play/stop</p>
   </span>
   <!-- element for script's runnig message display-->
   <span class="col">
      <b id="runningStatus"></b>
   </span>
</span>

<canvas id="canvas"  ></canvas>

<script type="module" src="demo.js"></script>
<!-- load opencv for demo -->
<script async src="https://docs.opencv.org/master/opencv.js" type="text/javascript" id="openCv"></script>
<p>Credit+thanks to: <br>
   https://mixkit.co/ 
   <br>
   www.shutterstock.com</p>
</div>

</body>
</html>