<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
         rel="stylesheet"
         integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
         crossorigin="anonymous"
         />
   </head>
   <body style="font-size: 14px">
      <div class="container">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" 
         integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" 
         crossorigin="anonymous"></script>
      <h2 >Demo of VfbfStreamer </h2>
      <h4 >A video streaming utility for frame-by-frame video processing apps</h4>
      <h4 > By: Ronen Halevy</h4>
      <br>
      This demo illustrates the integration of vfbfStreamer with a Javascript image processing application. 
      <br>
      It provides a simple plain-js example, by demonstrating common scenarios as detailed below:
      <br><br>
      1. <b class="text-bg-dar">Input Data</b>
      <br>
      <div>
         The demo gives various options for input data:
         - video url: VfbfStreamer's most straight forward input for.
         - image url:  VfbfStreamer aupports still images input as well, as explained later on.
         - image and videos from local storage files: The demo generates urls for those, before calling the streamer method.
         <br>
         <br>
         2. <b class="text-bg-dar">Frame by Frame Processing algorithms</b>
         <br>
         The demo illustrates integration with openCvJs image processing algorithms.
         <br>
         <br>
         3. <b class="text-bg-dar">Support of still Images</b>
         <br>
         Beside streaming video frame-by-frame, the streamer supports forwarding of still images. Motivation for supporting images by streamer
         was to supply an integrative contentionless module, for apps which process both images and videos on the same canvas</p>
         <br><br>
         The demo is controlled by below's UI Panel.Follow the execution steps.
         <br><br>
         <b><u>UI Panel</u></b>
         </br> </br>
         1. <u class="text-bg-dar"><b>Source selection by radio buttons</b></u>
         </br></br>
         <!-- Select input source by radio buttons -->
         <div class="col">
            <span class="form-check col">
            <input class="form-check-input" type="radio" name="exampleRadios" id="videoUrl" value="video" checked/>
            <label class="form-check-label text-bg-primar" for="exampleRadios1">
            by video url
            </label>
            </span>
            <span class="form-check col">
            <input class="form-check-input" type="radio" name="exampleRadios" id="imageUrl" value="image"/>
            <label class="form-check-label text-bg-primar" for="exampleRadios2">
            by image url
            </label>
            </span>
            <span class="form-check col">
            <input class="form-check-input" type="radio" name="exampleRadios" id="localFile" value="image"/>
            <label class="form-check-label text-bg-primar" for="exampleRadios2">
            by localFile
            </label>
            </span>
         </div>
         <!-- element for script's source url display-->
         </br>
         <div id="selectedUrl"></div>
         </br></br>
         <!-- Select input file from local storage s -->
         2. <u class="text-bg-dar"><b>If selection is a local file - pick the file.</b> </u>
         </br></br>
         File input selection element is visible only when localFile is selected.
         </br> </br>
         <input
            id='inputFile'
            type='file'
            accept='video/*, image/*'
            />
         </br> </br>
         3. <u class="text-bg-dar"><b>Selection of processing algorithm.</b> </u>
         </br>
         </br>
         <!-- Select open-cv algorithm  by radio buttons -->
         <div class=col>
            <span class="form-check col">
            <input class="form-check-input" type="radio" name="cvProcess" id="original" value="original" checked/>
            <label class="form-check-label text-bg-primar" for="exampleRadios1">
            original
            </label>
            </span>
            <span class="form-check col">
            <input class="form-check-input" type="radio" name="cvProcess" id="bw" value="bw" />
            <label class="form-check-label text-bg-primar" for="exampleRadios1">
            bw
            </label>
            </span>
            <span class="form-check col">
            <input class="form-check-input" type="radio" name="cvProcess" id="threshold" value="threshold"/>
            <label class="form-check-label text-bg-primar" for="exampleRadios2">
            simple thresholding
            </label>
            </span>
            <span class="form-check col">
            <input class="form-check-input" type="radio" name="cvProcess" id="canny" value="canny"/>
            <label class="form-check-label text-bg-primar" for="exampleRadios2">
            canny edge filter
            </label>
            </span>
         </div>
         <!-- Select play/stop button  -->
         <div class="row">
            <div class="col">
               </br></br>
               4. <u class="text-bg-dar"><b>Play</b></u>
               </br>
               </br>       
               Click either <b>Play</b> button or Touch<b>Canvas</b> to play or stop.
               </br></br>
            </div>
            <p>Credit+thanks to video stock: https://mixkit.co/ </p>
            <div class="col">
               <button id='playUrl'></button>
               <!-- Range input -->
            </div>
            <input
               type='range'
               min='0'
               step='0.1'
               id='customRange3'/>
            <!-- Canvas. onclick callback added by script -->
            <span class="row">
            <span class="col">
               <p  style="background-color:powderblue;">Touch<b>Canvas</b> to Play/stop</p>
            </span>
            <!-- element for script's runnig message display-->
            <span class="col">
            <b id="runningStatus"></b>
            </span>
            <canvas id="canvas"  >The current time</canvas>
            <script type="module" src="demo.js"></script>
            <!-- load opencv for demo -->
            <script async src="https://docs.opencv.org/master/opencv.js" type="text/javascript" id="openCv"></script>
         </div>
      </div>
   </body>
</html>